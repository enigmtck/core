import{t as _,i as o,s as c,b,l as m,c as s,e as h,d as y}from"./CPBLXjHw.js";function d(e,r,l=!1){if(e.multiple){if(r==null)return;if(!o(r))return c();for(var a of e.options)a.selected=r.includes(n(a));return}for(a of e.options){var i=n(a);if(b(i,r)){a.selected=!0;return}}(!l||r!==void 0)&&(e.selectedIndex=-1)}function q(e){var r=new MutationObserver(()=>{d(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),_(()=>{r.disconnect()})}function p(e,r,l=r){var a=new WeakSet,i=!0;m(e,"change",u=>{var f=u?"[selected]":":checked",t;if(e.multiple)t=[].map.call(e.querySelectorAll(f),n);else{var v=e.querySelector(f)??e.querySelector("option:not([disabled])");t=v&&n(v)}l(t),s!==null&&a.add(s)}),h(()=>{var u=r();if(e===document.activeElement){var f=y??s;if(a.has(f))return}if(d(e,u,i),i&&u===void 0){var t=e.querySelector(":checked");t!==null&&(u=n(t),l(u))}e.__value=u,i=!1}),q(e)}function n(e){return"__value"in e?e.__value:e.value}export{p as b,q as i,d as s};
