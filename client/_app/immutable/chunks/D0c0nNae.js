import"./CWj6FrbW.js";import{ai as W,a3 as D,ao as j,al as H,a7 as J,aP as K,am as U,an as V,aG as G,p as X,k as I,q as v,aC as o,u,ay as L,v as d,aD as Y,n as P,a as Z,aB as $,aw as ee,r as te}from"./C-PNKZ_s.js";import{s as h}from"./CGqlG8Jg.js";import{a as B,s as se,b as re}from"./ChSDbmkr.js";function Q(e,t,i=!1){if(e.multiple){if(t==null)return;if(!J(t))return K();for(var r of e.options)r.selected=t.includes(y(r));return}for(r of e.options){var n=y(r);if(U(n,t)){r.selected=!0;return}}(!i||t!==void 0)&&(e.selectedIndex=-1)}function ae(e){var t=new MutationObserver(()=>{Q(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),V(()=>{t.disconnect()})}function le(e,t,i=t){var r=new WeakSet,n=!0;W(e,"change",a=>{var l=a?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(l),y);else{var c=e.querySelector(l)??e.querySelector("option:not([disabled])");s=c&&y(c)}i(s),D!==null&&r.add(D)}),j(()=>{var a=t();if(e===document.activeElement){var l=H??D;if(r.has(l))return}if(Q(e,a,n),n&&a===void 0){var s=e.querySelector(":checked");s!==null&&(a=y(s),i(a))}e.__value=a,n=!1}),ae(e)}function y(e){return"__value"in e?e.__value:e.value}var ie=I('<div class="filters svelte-1iwnm0c"><div class="filter-section svelte-1iwnm0c"><div class="filter-options svelte-1iwnm0c"><button type="button" title="Actors"><i class="fa-solid fa-users svelte-1iwnm0c"></i></button> <button type="button" title="Notes"><i class="fa-solid fa-comments svelte-1iwnm0c"></i></button> <button type="button" title="Questions"><i class="fa-solid fa-square-poll-horizontal svelte-1iwnm0c"></i></button> <button type="button" title="Articles"><i class="fa-solid fa-newspaper svelte-1iwnm0c"></i></button></div></div> <div class="filter-section svelte-1iwnm0c"><div class="order-control svelte-1iwnm0c"><label for="order-select" class="svelte-1iwnm0c">Sort Order</label> <select id="order-select" class="order-select svelte-1iwnm0c"><option>Most Relevant</option><option>Newest First</option><option>Oldest First</option></select></div></div></div>');function C(e,t){X(t,!0);const i=()=>B(t.searchTypes,"$searchTypesStore",n),r=()=>B(t.searchOrder,"$searchOrderStore",n),[n,a]=se();let l=Y(i);const s=p=>{t.searchTypes.update(F=>{const w=new Set(F);return w.has(p)?w.delete(p):w.add(p),w})};var c=ie(),b=v(c),g=v(b),_=v(g);let k;_.__click=()=>s("actor");var m=o(_,2);let S;m.__click=()=>s("note");var f=o(m,2);let x;f.__click=()=>s("question");var A=o(f,2);let E;A.__click=()=>s("article"),u(g),u(b);var M=o(b,2),N=v(M),O=o(v(N),2),T=v(O);T.value=T.__value="relevance";var q=o(T);q.value=q.__value="desc";var z=o(q);z.value=z.__value="asc",u(O),u(N),u(M),u(c),L((p,F,w,R)=>{k=h(_,1,"icon-button svelte-1iwnm0c",null,k,p),S=h(m,1,"icon-button svelte-1iwnm0c",null,S,F),x=h(f,1,"icon-button svelte-1iwnm0c",null,x,w),E=h(A,1,"icon-button svelte-1iwnm0c",null,E,R)},[()=>({selected:d(l).has("actor")}),()=>({selected:d(l).has("note")}),()=>({selected:d(l).has("question")}),()=>({selected:d(l).has("article")})]),le(O,r,p=>re(t.searchOrder,p)),P(e,c),Z(),a()}G(["click"]);var ne=I('<div class="filters-drawer svelte-8pke2k"><div><div><!></div>  <div role="button" tabindex="0"><i class="fa-solid fa-caret-down svelte-8pke2k"></i></div></div></div> <div class="filters-container svelte-8pke2k"><h1 class="svelte-8pke2k">Filters</h1> <!></div>',1);function de(e,t){let i=ee(!1);function r(){te(i,!d(i))}var n=ne(),a=$(n),l=v(a);let s;var c=v(l);let b;var g=v(c);C(g,{get searchTypes(){return t.searchTypes},get searchOrder(){return t.searchOrder}}),u(c);var _=o(c,2);let k;_.__click=r,_.__keydown=f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),r())},u(l),u(a);var m=o(a,2),S=o(v(m),2);C(S,{get searchTypes(){return t.searchTypes},get searchOrder(){return t.searchOrder}}),u(m),L(()=>{s=h(l,1,"filters-drawer__content svelte-8pke2k",null,s,{open:d(i)}),b=h(c,1,"filters-container-wrapper svelte-8pke2k",null,b,{open:d(i)}),k=h(_,1,"filters-drawer__pull svelte-8pke2k",null,k,{open:d(i)})}),P(e,n)}G(["click","keydown"]);export{de as S};
