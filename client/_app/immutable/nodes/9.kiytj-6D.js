import{s as ee,f as l,a as x,l as Y,g as o,h as A,u as L,c as C,m as J,d as f,r as te,j as e,i as Q,v as a,C as $,D as O,F as V,L as ae,w as se,N as ne,o as le}from"../chunks/scheduler.vJi1FF2t.js";import{g as oe}from"../chunks/globals.0cDDIVm6.js";import{S as re,i as ie}from"../chunks/index.NkgvvCTc.js";import{e as ue,a as me}from"../chunks/stores.Q3fukup_.js";import{g as X}from"../chunks/navigation.9JcVx6SN.js";const{document:Z}=oe;function ce(p){let s,c,E="ENIGMATICK",v,r,T="Create Account",h,t,n,N=`Username
			<input name="username" type="text" placeholder="bob" class="svelte-1ouma4k"/>`,P,_,R=`Display Name
			<input name="display_name" type="text" placeholder="Bob Anderson" class="svelte-1ouma4k"/>`,B,b,H,i,I,w,S,u,D,y,W='<button class="svelte-1ouma4k">Create Account</button>',M,g,z=`body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  display: block;
  background: white;
}
@media screen and (max-width: 700px) {
  body {
    background: #fafafa;
  }
}`,q,G;return{c(){s=l("main"),c=l("h1"),c.textContent=E,v=x(),r=l("h2"),r.textContent=T,h=x(),t=l("form"),n=l("label"),n.innerHTML=N,P=x(),_=l("label"),_.innerHTML=R,B=x(),b=l("label"),H=Y(`Password
			`),i=l("input"),I=x(),w=l("label"),S=Y(`Confirm Password
			`),u=l("input"),D=x(),y=l("div"),y.innerHTML=W,M=x(),g=l("style"),g.textContent=z,this.h()},l(k){s=o(k,"MAIN",{class:!0});var d=A(s);c=o(d,"H1",{class:!0,"data-svelte-h":!0}),L(c)!=="svelte-1bn9c6g"&&(c.textContent=E),v=C(d),r=o(d,"H2",{class:!0,"data-svelte-h":!0}),L(r)!=="svelte-lqaecl"&&(r.textContent=T),h=C(d),t=o(d,"FORM",{id:!0,method:!0,class:!0});var m=A(t);n=o(m,"LABEL",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-onj7mi"&&(n.innerHTML=N),P=C(m),_=o(m,"LABEL",{class:!0,"data-svelte-h":!0}),L(_)!=="svelte-1umteht"&&(_.innerHTML=R),B=C(m),b=o(m,"LABEL",{class:!0});var F=A(b);H=J(F,`Password
			`),i=o(F,"INPUT",{name:!0,type:!0,minlength:!0,placeholder:!0,class:!0}),F.forEach(f),I=C(m),w=o(m,"LABEL",{class:!0});var U=A(w);S=J(U,`Confirm Password
			`),u=o(U,"INPUT",{name:!0,type:!0,minlength:!0,placeholder:!0,class:!0}),U.forEach(f),D=C(m),y=o(m,"DIV",{class:!0,"data-svelte-h":!0}),L(y)!=="svelte-1msvkw3"&&(y.innerHTML=W),m.forEach(f),d.forEach(f),M=C(k);const K=te("svelte-skzsmw",Z.head);g=o(K,"STYLE",{lang:!0,"data-svelte-h":!0}),L(g)!=="svelte-1m6wti8"&&(g.textContent=z),K.forEach(f),this.h()},h(){e(c,"class","svelte-1ouma4k"),e(r,"class","svelte-1ouma4k"),e(n,"class","svelte-1ouma4k"),e(_,"class","svelte-1ouma4k"),e(i,"name","password"),e(i,"type","password"),i.required=!0,e(i,"minlength","5"),e(i,"placeholder","Use a password manager"),e(i,"class","svelte-1ouma4k"),e(b,"class","svelte-1ouma4k"),e(u,"name","confirm_password"),e(u,"type","password"),u.required=!0,e(u,"minlength","5"),e(u,"placeholder","Confirm your password"),e(u,"class","svelte-1ouma4k"),e(w,"class","svelte-1ouma4k"),e(y,"class","svelte-1ouma4k"),e(t,"id","signup"),e(t,"method","POST"),e(t,"class","svelte-1ouma4k"),e(s,"class","svelte-1ouma4k"),e(g,"lang","scss")},m(k,d){Q(k,s,d),a(s,c),a(s,v),a(s,r),a(s,h),a(s,t),a(t,n),a(t,P),a(t,_),a(t,B),a(t,b),a(b,H),a(b,i),a(t,I),a(t,w),a(w,S),a(w,u),a(t,D),a(t,y),Q(k,M,d),a(Z.head,g),q||(G=[$(i,"change",O(j)),$(u,"change",O(j)),$(t,"submit",O(p[0]))],q=!0)},p:V,i:V,o:V,d(k){k&&(f(s),f(M)),f(g),q=!1,ae(G)}}}function j(){const p=document.getElementsByName("password")[0],s=document.getElementsByName("confirm_password")[0];return p.value==s.value}function de(p,s,c){let E,v;se(p,ue,h=>c(1,v=h));let r=ne(me).username;le(()=>{r&&X(`/@${r}`)});async function T(h){const t=document.getElementsByTagName("button")[0];if(t.disabled=!0,h.target.checkValidity&&j()){let n=new FormData(h.target);console.log(n),n.get("username")&&n.get("display_name")&&n.get("password")&&E?.create_user(String(n.get("username")),String(n.get("display_name")),String(n.get("password"))).then(N=>{X("/login")})}else console.error("FORM INVALID")}return p.$$.update=()=>{p.$$.dirty&2&&(E=v)},[T,v]}class _e extends re{constructor(s){super(),ie(this,s,de,ce,ee,{})}}export{_e as component};
