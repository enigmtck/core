import"../chunks/CWj6FrbW.js";import{p as b,o as _,j as P,k as y,m as C,n as k,q as $,ad as S,v as d,ah as M,u as U}from"../chunks/iAwc3qQu.js";import{b as W}from"../chunks/CsyQ7Zbw.js";import{s as D,a as F}from"../chunks/CTRaWkmf.js";import{e as N}from"../chunks/BjbtEI9d.js";import{g as O}from"../chunks/BZzrGudY.js";var j=P('<main class="svelte-1i19ct2"><dialog class="svelte-1i19ct2"><form method="dialog" class="svelte-1i19ct2"><h3 class="svelte-1i19ct2">Password Update Failed</h3> <p class="svelte-1i19ct2">Something went wrong. Check your current password and try again.</p> <button class="svelte-1i19ct2">Okay</button></form></dialog> <form id="change_password" method="POST" class="svelte-1i19ct2"><h3 class="svelte-1i19ct2">Change Password</h3> <label class="svelte-1i19ct2">Current Password <input name="current_password" type="password" placeholder="Current Password" class="svelte-1i19ct2"/></label> <label class="svelte-1i19ct2">New Password <input name="new_password" type="password" placeholder="Use a Password Manager" class="svelte-1i19ct2"/></label> <label class="svelte-1i19ct2">Confirm New Password <input name="confirm_password" type="password" placeholder="Confirm Password" class="svelte-1i19ct2"/></label> <button class="svelte-1i19ct2">Update</button></form></main>');function E(p,m){b(m,!0);const w=()=>F(N,"$enigmatickWasm",g),[g,u]=D();let i=M(w);_(async()=>{d(i)||O("/")});function f(s){var c;let o=new FormData(s.target),r=o.get("current_password"),e=o.get("new_password"),l=o.get("confirm_password");r&&e&&l&&e===l&&(console.log(r+" "+e+" "+l),(c=d(i))==null||c.update_password(String(r),String(e)).then(v=>{v?s.target.reset():a.showModal()}))}let a;var t=j(),n=$(t);W(n,s=>a=s,()=>a);var h=S(n,2);U(t),y("submit",h,s=>{s.preventDefault(),f(s)}),C(p,t),k(),u()}export{E as component};
