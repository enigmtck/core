import{S as q,i as z,s as P,n as h,d as _,b as y,c as f,m as C,G as M,o as d,e as w,f as k,z as v,h as S,j as g,k as L,l as T,q as H,B as O}from"../chunks/Bme_sf2i.js";import"../chunks/IHki7fMi.js";import{e as x}from"../chunks/BigVxDb3.js";import{g as F}from"../chunks/BQPeWUxY.js";function N(l){let e,a,o='<form method="dialog" class="svelte-2qpcaz"><h3 class="svelte-2qpcaz">Password Update Failed</h3> <p class="svelte-2qpcaz">Something went wrong. Check your current password and try again.</p> <button class="svelte-2qpcaz">Okay</button></form>',c,s,i=`<h3 class="svelte-2qpcaz">Change Password</h3> <label class="svelte-2qpcaz">Current Password
			<input name="current_password" type="password" placeholder="Current Password" class="svelte-2qpcaz"/></label> <label class="svelte-2qpcaz">New Password
			<input name="new_password" type="password" placeholder="Use a Password Manager" class="svelte-2qpcaz"/></label> <label class="svelte-2qpcaz">Confirm New Password
			<input name="confirm_password" type="password" placeholder="Confirm Password" class="svelte-2qpcaz"/></label> <button class="svelte-2qpcaz">Update</button>`,p,t;return{c(){e=g("main"),a=g("dialog"),a.innerHTML=o,c=L(),s=g("form"),s.innerHTML=i,this.h()},l(r){e=w(r,"MAIN",{class:!0});var n=k(e);a=w(n,"DIALOG",{class:!0,"data-svelte-h":!0}),v(a)!=="svelte-1rabwvv"&&(a.innerHTML=o),c=S(n),s=w(n,"FORM",{id:!0,method:!0,class:!0,"data-svelte-h":!0}),v(s)!=="svelte-185f70x"&&(s.innerHTML=i),n.forEach(_),this.h()},h(){d(a,"class","svelte-2qpcaz"),d(s,"id","change_password"),d(s,"method","POST"),d(s,"class","svelte-2qpcaz"),d(e,"class","svelte-2qpcaz")},m(r,n){y(r,e,n),f(e,a),l[3](a),f(e,c),f(e,s),p||(t=C(s,"submit",M(l[1])),p=!0)},p:h,i:h,o:h,d(r){r&&_(e),l[3](null),p=!1,t()}}}function U(l,e,a){let o,c;T(l,x,t=>a(2,c=t)),H(async()=>{o||F("/")});function s(t){let r=new FormData(t.target),n=r.get("current_password"),m=r.get("new_password"),u=r.get("confirm_password");n&&m&&u&&m===u&&(console.log(n+" "+m+" "+u),o==null||o.update_password(String(n),String(m)).then(b=>{b?t.target.reset():i.showModal()}))}let i;function p(t){O[t?"unshift":"push"](()=>{i=t,a(0,i)})}return l.$$.update=()=>{l.$$.dirty&4&&(o=c)},[i,s,c,p]}class W extends q{constructor(e){super(),z(this,e,U,N,P,{})}}export{W as component};
