import"../chunks/CWj6FrbW.js";import{aW as Wt,b as It,h as Bt,W as Tt,aq as Ut,aG as Xe,p as Te,y as Be,v as e,aD as Ne,r as s,aw as D,J as Ye,k as d,aB as te,aC as w,q as m,u as h,n as c,a as Ue,aH as Ae,ay as fe,aA as Je,o as Ht,m as Ke}from"../chunks/C-PNKZ_s.js";import{i as f}from"../chunks/CPpPu6cz.js";import{C as Lt,A as zt,h as Ie,s as Rt,a as Vt}from"../chunks/CLkBcGVC.js";import{d as qt,D as Kt,a as Zt,f as dt,j as Ze,s as Me,h as Ge,i as Qe,g as Gt,k as ft}from"../chunks/CT8Pszs0.js";import{s as je,c as We}from"../chunks/CGqlG8Jg.js";import{b as De}from"../chunks/C6Vr0pnO.js";import{a as Oe,s as He}from"../chunks/ChSDbmkr.js";import{p as Qt}from"../chunks/D7gh-3I6.js";import{a as _t,e as Le}from"../chunks/n0qzx-_D.js";import{e as mt,i as ht}from"../chunks/gGHH_MYY.js";import{b as Xt,g as Yt}from"../chunks/CjNKWMH0.js";import"../chunks/DBPuqUlq.js";import{H as $t}from"../chunks/B4CkcLag.js";function ea(ue,v,Y){Bt&&Tt();var ae=new Ut(ue),I=!Wt();It(()=>{var E=v();I&&E!==null&&typeof E=="object"&&(E={}),ae.ensure(E,Y)})}var ta=d('<button aria-label="Load more" class="svelte-12oyd1x"><i class="fa-solid fa-ellipsis"></i></button>'),aa=d("<!> <!>",1),ra=d('<!> <div class="svelte-12oyd1x"><!></div>',1);function la(ue,v){Te(v,!0);const Y=()=>Oe(Le,"$enigmatickWasm",I),ae=()=>Oe(_t,"$appData",I),[I,E]=He();let re=D(void 0),g=Ne(Y);Be(()=>{e(g)&&T(v.handle,v.local).then(()=>{})});async function x(o){const _=o.orderedItems;if(_){const M=[];for(const A of _)if(A.type==="Create"||A.type==="Announce"){let t="";A.object.id?t=A.object.id:t=String(A.object),M.push({item:A,noteId:t})}const C=async({item:A,noteId:t})=>{try{const b=await _e(t);if(b)try{const O=JSON.parse(b);A.object=O}catch(O){console.error(`Failed to parse note ${t}:`,O)}}catch(b){console.error(`Failed to fetch note ${t}:`,b)}ie(A)};M.forEach(C)}s(N,o.next||null,!0),s(F,o.prev||null,!0)}async function T(o,_){var C,A,t;s(n,new Map,!0),!q&&e(g)&&(q=new(e(g)).EnigmatickCache);let M=(C=e(g))==null?void 0:C.get_state();if(M)if(M.get_server_url(),_&&o){const b=await((A=e(g))==null?void 0:A.get_outbox(o));if(b){const O=JSON.parse(b);x(O).then(()=>{s(K,!1)})}}else(t=e(g))==null||t.get_remote_outbox(`@${o}`).then(b=>{var O;if(b){const H=JSON.parse(b);(O=e(g))==null||O.get_remote_outbox(`@${o}`,H.first).then(he=>{if(he){const ge=JSON.parse(he);x(ge).then(()=>{s(K,!1)})}})}})}async function de(){var _,M;let o=null;if(e(N)?o=e(N):e(F)&&(o=e(F)),o)if(s(K,!0),v.local&&v.handle){let C=Zt(o);C&&C.type&&C.value&&((_=e(g))==null||_.get_outbox(v.handle,C.type,C.value).then(A=>{if(A){const t=JSON.parse(A);x(t).then(()=>{s(K,!1)})}}))}else(M=e(g))==null||M.get_remote_outbox(`@${v.handle}`,o).then(C=>{if(C){const A=JSON.parse(C);x(A).then(()=>{s(K,!1)})}})}function se(o){e(n).delete(o),s(n,new Map(e(n)),!0)}async function le(o){const _=o.note;e(n).get(String(_.id))||(s(n,new Map(e(n)).set(String(_.id),o),!0),S.set(String(_.id),JSON.stringify(_)))}const ie=async o=>{var _;if(o.object.attributedTo){const M=qt((_=o.object.ephemeral)==null?void 0:_.attributedTo);if(M){const C=new Kt(M,o.object,o);await le(C)}}};async function pe(o,_,M,C,A,t,b){var O;if(e(g)){let H=(await e(g).SendParams.new()).set_content(M).set_public();b||H.set_public(),H.set_attachments(JSON.stringify(C)),H.set_hashtags(t);for(const[he,ge]of A)H.add_mention(he,ge.id||"",((O=ge.capabilities)==null?void 0:O.enigmatickEncryption)||!1);return _&&(H.set_in_reply_to(String(_.note.id)),H.set_conversation(String(_.note.conversation))),await e(g).send_note(H)}else return null}async function _e(o){e(g)&&!S.has(o)&&S.set(o,e(g).get_note(o));const _=S.get(o);return _ instanceof Promise?await _:_}function be(){}let n=D(Ye(new Map)),p=Ne(()=>(e(n).size,Array.from(e(n).values()))),S=new Map,q=null;ae().username;let N=D(null),F=D(null),K=D(!0),Z=[];var ne=ra(),ce=te(ne);{var G=o=>{De(Lt(o,{senderFunction:pe,direct:!1}),_=>s(re,_,!0),()=>e(re))};f(ce,o=>{e(g)&&o(G)})}var ke=w(ce,2),me=m(ke);{var Ce=o=>{var _=aa(),M=te(_);mt(M,17,()=>e(p),ht,(t,b,O)=>{var H=Ae(),he=te(H);{var ge=Pe=>{{let l=Ne(()=>{var i;return(i=e(re))==null?void 0:i.handleReplyToMessage});De(zt(Pe,{get parentArticle(){return Z[O]},remove:se,get note(){return e(b)},get onReplyTo(){return e(l)},onNoteSelect:be,cachedNote:_e}),(i,k)=>Z[k]=i,i=>Z==null?void 0:Z[i],()=>[O])}};f(he,Pe=>{e(b).note&&Pe(ge)})}c(t,H)});var C=w(M,2);{var A=t=>{var b=ta();b.__click=O=>{O.preventDefault(),de()},fe(()=>b.disabled=e(K)),c(t,b)};f(C,t=>{e(N)&&t(A)})}c(o,_)};f(me,o=>{e(g)&&o(Ce)})}h(ke),c(ue,ne),Ue(),E()}Xe(["click"]);var na=d('<img alt="Avatar" class="svelte-1nyby8b"/>'),oa=d('<span class="svelte-1nyby8b"><!></span>'),sa=d('<span class="svelte-1nyby8b"> </span>'),ia=d('<div class="svelte-1nyby8b"><a class="svelte-1nyby8b"><div class="image svelte-1nyby8b"><!></div> <div class="text svelte-1nyby8b"><!> <span class="handle svelte-1nyby8b"> </span></div></a></div>');function ca(ue,v){Te(v,!0);const Y=()=>Oe(Le,"$enigmatickWasm",ae),[ae,I]=He();let E=Ne(Y);var re=ia(),g=m(re),x=m(g),T=m(x);{var de=n=>{var p=na();fe(S=>Me(p,"src",S),[()=>Ge(e(E),v.profile.icon.url)]),c(n,p)};f(T,n=>{v.profile.icon&&n(de)})}h(x);var se=w(x,2),le=m(se);{var ie=n=>{var p=oa(),S=m(p);Ie(S,()=>Qe(e(E),v.profile.name,v.profile)),h(p),c(n,p)},pe=n=>{var p=sa(),S=m(p,!0);h(p),fe(()=>Je(S,v.profile.name)),c(n,p)};f(le,n=>{v.profile&&v.profile.name?n(ie):n(pe,!1)})}var _e=w(le,2),be=m(_e,!0);h(_e),h(se),h(g),h(re),fe(n=>{Me(g,"href","/"+v.profile.webfinger),Je(be,n)},[()=>v.profile.webfinger||dt(Ze(v.profile.url)||"",!0)||Ze(v.profile.url)]),c(ue,re),Ue(),I()}var va=d('<button aria-label="Load more" class="svelte-1lwtw4"><i class="fa-solid fa-ellipsis"></i></button>'),fa=d('<div class="svelte-1lwtw4"><!> <!></div>');function ut(ue,v){Te(v,!0);const Y=()=>Oe(Le,"$enigmatickWasm",ae),[ae,I]=He();let E=D(void 0),re=!1,g=Ne(Y);Be(()=>{e(g)&&de(v.handle,v.local).then(()=>{console.debug("RELOADED FOLLOWS")})});const x=async(n,p)=>{var S,q;if(v.view=="Followers"){let N=await((S=e(g))==null?void 0:S.get_remote_followers(n));if(console.debug(N),N)return JSON.parse(N).first}else if(v.view=="Following"){let N=await((q=e(g))==null?void 0:q.get_remote_following(n));if(N)return JSON.parse(N).first}},T=async(n,p)=>{var K,Z;const S=v.view==="Followers"?"get_remote_followers":"get_remote_following",q=await((K=e(g))==null?void 0:K[S](n,p));if(!q)return null;const N=JSON.parse(q);let F=[];return(Z=N.ephemeral)!=null&&Z.actors?F=N.ephemeral.actors:N.orderedItems&&(F=await Promise.all(N.orderedItems.map(async ne=>{try{const ce=await v.cachedActor(ne,v.cache);return JSON.parse(ce)}catch{return console.error(`Failed to retrieve ${ne}`),null}})).then(ne=>ne.filter(Boolean))),{profiles:F,next:N.next}},de=async(n,p)=>{var F;const S=p?await((F=e(g))==null?void 0:F.get_webfinger_from_handle(n))||n:`@${n}`,q=await x(S);if(!q)return;const N=await T(S,q);N&&(s(le,N.profiles,!0),s(E,N.next,!0))},se=async()=>{var S;const n=v.local?await((S=e(g))==null?void 0:S.get_webfinger_from_handle(v.handle))||v.handle:`@${v.handle}`;if(!n||!e(E))return;const p=await T(n,e(E));p&&(s(le,[...e(le),...p.profiles],!0),s(E,p.next,!0))};let le=D(Ye([]));var ie=fa(),pe=m(ie);mt(pe,17,()=>e(le),ht,(n,p)=>{ca(n,{get profile(){return e(p)}})});var _e=w(pe,2);{var be=n=>{var p=va();p.__click=S=>{S.preventDefault(),se()},p.disabled=re,c(n,p)};f(_e,n=>{e(E)!==void 0&&n(be)})}h(ie),c(ue,ie),Ue(),I()}Xe(["click"]);var ua=d('<input style="display:none" type="file" accept=".jpg, .jpeg, .png"/>'),da=d('<img alt="Banner" class="svelte-4rchk5"/>'),_a=d('<input style="display:none" type="file" accept=".jpg, .jpeg, .png"/>'),ma=d('<h1 class="svelte-4rchk5"><!></h1>'),ha=d('<button title="Follow" class="svelte-4rchk5"><i class="fa-solid fa-user-plus svelte-4rchk5"></i></button>'),ga=d('<button title="Unfollow" class="svelte-4rchk5"><i class="fa-solid fa-user-minus svelte-4rchk5"></i></button>'),pa=d('<button title="Exchange Keys" class="svelte-4rchk5"><i class="fa-solid fa-key svelte-4rchk5"></i></button>'),ba=d('<div class="svelte-4rchk5"><!> <!> <!></div>'),wa=d('<button title="Update Biography" class="svelte-4rchk5"><i class="fa-solid fa-pencil svelte-4rchk5"></i></button>'),ya=d('<div class="svelte-4rchk5"><button title="Change Avatar" class="svelte-4rchk5"><i class="fa-solid fa-image-portrait svelte-4rchk5"></i></button> <button title="Change Banner" class="svelte-4rchk5"><i class="fa-solid fa-panorama svelte-4rchk5"></i></button> <!></div>'),ka=d('<button title="Save" class="svelte-4rchk5"><i class="fa-solid fa-floppy-disk svelte-4rchk5"></i></button>'),Sa=d('<div class="svelte-4rchk5"><button title="Cancel" class="svelte-4rchk5"><i class="fa-solid fa-ban svelte-4rchk5"></i></button> <button title="Preview" class="svelte-4rchk5"><i class="fa-solid fa-eye svelte-4rchk5"></i></button> <!></div>'),Fa=d('<div class="svelte-4rchk5"><button title="Save" class="svelte-4rchk5"><i class="fa-solid fa-floppy-disk svelte-4rchk5"></i></button></div>'),xa=d('<div class="controls svelte-4rchk5"><!> <!> <!></div>'),Aa=d('<pre id="summary_edit" contenteditable="true" class="svelte-4rchk5"> </pre>'),Da=d('<div class="svelte-4rchk5"><!></div>'),Na=d("<span><!></span>"),Oa=d("<button>Articles</button>"),Ca=d("<button>Posts</button>"),Ja=d("<button> </button> <button> </button>",1),Pa=d('<div class="profile svelte-4rchk5"><div class="banner svelte-4rchk5"><!> <!></div> <div class="identity svelte-4rchk5"><div class="avatar svelte-4rchk5"><!> <img alt="Avatar" class="svelte-4rchk5"/></div> <div class="details svelte-4rchk5"><!> <a class="svelte-4rchk5"> </a></div></div> <!> <div class="summary svelte-4rchk5"><!> <!> <!></div> <div class="tabs svelte-4rchk5"><!> <!> <!></div></div> <section class="svelte-4rchk5"><!></section>',1),Ea=d('<main class="svelte-4rchk5"><!></main>'),Ma=d("<!> <!>",1);function Ga(ue,v){Te(v,!0);const Y=()=>Oe(Le,"$enigmatickWasm",E),ae=()=>Oe(_t,"$appData",E),I=()=>Oe(Qt,"$page",E),[E,re]=He(),{Converter:g}=Rt;let x=Ne(Y),T=Ne(()=>ae().username);Ht(async()=>{});async function de(l){var i,k,B;if(l.includes("@")){s(b,!1);let z=await se(`@${l}`,e(O));s(t,JSON.parse(z),!0),(i=e(x))==null||i.get_remote_followers(`@${l}`).then(j=>{if(j){let U=JSON.parse(j);s(o,U.totalItems||0,!0)}}),(k=e(x))==null||k.get_remote_following(`@${l}`).then(j=>{if(j){let U=JSON.parse(j);s(_,U.totalItems||0,!0)}})}else s(b,!0),(B=e(x))==null||B.get_profile_by_username(l).then(z=>{var j,U;z&&(s(t,JSON.parse(z),!0),s(Ce,((U=(j=e(t))==null?void 0:j.ephemeral)==null?void 0:U.summaryMarkdown)||"",!0))})}async function se(l,i){var k;if(i)try{return await((k=e(x))==null?void 0:k.get_actor_cached(i,l))}catch{return console.error(`FAILED TO RETRIEVE: ${l}`),null}return null}function le(l){let i=new g({extensions:[Vt({pre:!0,auto_detection:!0})]});return i.setFlavor("github"),i.setOption("tables",!0),i.setOption("requireSpaceBeforeHeadingText",!0),i.makeHtml(l)}function ie(l){(l instanceof KeyboardEvent&&(l.key==="Enter"||l.key===" ")||l instanceof MouseEvent&&l.type==="click")&&s(me,!0)}function pe(l){let i=document.getElementById("summary_edit");if(i){let k=i.innerText;e(t)&&(s(Ce,k,!0),s(me,!1),e(t).summary=le(k),s(ke,!0))}}function _e(l){s(me,!1)}function be(){var l;e(t)&&e(t).summary&&((l=e(x))==null||l.update_summary(e(t).summary,e(Ce)).then(i=>{s(ke,!1)}))}const n=l=>{let i=l.target;if(i.files!==null){let k=i.files[0],B=String(k.name.match(/\.[0-9a-z]+$/i)).slice(1),z=new FileReader;z.readAsArrayBuffer(k),z.onload=j=>{var U;if(j.target!==null){s(K,j.target.result!==null?j.target.result:null,!0);let Se=new Uint8Array(e(K));(U=e(x))==null||U.upload_avatar(Se,e(K).byteLength,B).then(()=>{const we=I().params.handle;we&&de(we)})}}}},p=l=>{let i=l.target;if(i.files!==null){let k=i.files[0],B=String(k.name.match(/\.[0-9a-z]+$/i)).slice(1),z=new FileReader;z.readAsArrayBuffer(k),z.onload=j=>{var U;if(j.target!==null){s(ne,j.target.result!==null?j.target.result:null,!0);let Se=new Uint8Array(e(ne));(U=e(x))==null||U.upload_banner(Se,e(ne).byteLength,B).then(()=>{const we=I().params.handle;we&&de(we)})}}}};function S(l){var i;e(t)&&e(t).id&&((i=e(x))==null||i.send_follow(e(t).id).then(k=>{if(k&&e(t)){JSON.parse(k);let B=e(t).ephemeral||{};B.following=!0,e(t).ephemeral=B}}))}function q(l){var i;l&&e(t)&&e(t).id&&((i=e(x))==null||i.send_unfollow(e(t).id,l).then(k=>{if(k&&e(t)){JSON.parse(k);let B=e(t).ephemeral||{};B.following=!1,e(t).ephemeral=B}}))}async function N(l){}const F={Articles:Symbol("articles"),Posts:Symbol("posts"),Followers:Symbol("followers"),Following:Symbol("following")};let K=D(null),Z=D(void 0),ne=D(null),ce=D(void 0),G=D(Ye(F.Posts)),ke=D(!1),me=D(!1),Ce=D(""),o=D(0),_=D(0),M=D(null),C=D(null),A=D(null),t=D(null),b=D(!0),O=D(null);Be(()=>{Y()&&!e(O)&&s(O,new(Y()).EnigmatickCache,!0)});let H=D(null);Be(()=>{if(Y()&&e(O)){const l=I().params.handle;l&&l!==e(H)&&(s(H,l,!0),de(l))}}),Xt(async l=>{if(s(G,F.Posts,!0),l.to&&l.to.route.id===null){let i=l.to.url.href;const k=/^https:\/\/(:?[a-zA-Z0-9\-]+)(:?\.[a-zA-Z0-9\-]+)+?\/@[a-zA-Z0-9_]+\/?$/;if(i.match(k)){let B=dt(i);B&&(l.cancel(),await Yt(`/${B}`))}}});var he=Ma(),ge=te(he);$t(ge,{});var Pe=w(ge,2);ea(Pe,()=>e(t),l=>{var i=Ea(),k=m(i);{var B=z=>{var j=Pa(),U=te(j),Se=m(U),we=m(Se);{var gt=a=>{var r=ua();r.__change=u=>p(u),De(r,u=>s(ce,u),()=>e(ce)),c(a,r)};f(we,a=>{e(T)&&a(gt)})}var pt=w(we,2);{var bt=a=>{var r=da();fe(u=>Me(r,"src",u),[()=>Ge(e(x),String(e(t).image.url))]),c(a,r)};f(pt,a=>{e(t).image&&a(bt)})}h(Se);var ze=w(Se,2),Re=m(ze),$e=m(Re);{var wt=a=>{var r=_a();r.__change=u=>n(u),De(r,u=>s(Z,u),()=>e(Z)),c(a,r)};f($e,a=>{e(T)&&a(wt)})}var yt=w($e,2);h(Re);var et=w(Re,2),tt=m(et);{var kt=a=>{var r=ma(),u=m(r);Ie(u,()=>Qe(e(x),e(t).name,e(t))),h(r),c(a,r)};f(tt,a=>{e(t).name&&a(kt)})}var Ve=w(tt,2),St=m(Ve,!0);h(Ve),h(et),h(ze);var at=w(ze,2);{var Ft=a=>{var r=xa(),u=m(r);{var Fe=J=>{var P=ba(),X=m(P);{var ee=W=>{var V=ha();V.__click=ye=>{ye.preventDefault(),S()},c(W,V)};f(X,W=>{var V;(V=e(t).ephemeral)!=null&&V.following||W(ee)})}var R=w(X,2);{var oe=W=>{var V=ga();V.__click=ye=>{var ct,vt;ye.preventDefault(),q((vt=(ct=e(t))==null?void 0:ct.ephemeral)==null?void 0:vt.followActivityAsId)},c(W,V)};f(R,W=>{var V,ye;((V=e(t).ephemeral)==null?void 0:V.following)!==void 0&&((ye=e(t).ephemeral)!=null&&ye.following)&&W(oe)})}var y=w(R,2);{var ve=W=>{var V=pa();V.__click=ye=>{ye.preventDefault(),N()},c(W,V)};f(y,W=>{e(t).capabilities&&e(t).capabilities.enigmatickEncryption&&W(ve)})}h(P),c(J,P)};f(u,J=>{var P;ae().domain&&(!((P=e(t).id)!=null&&P.includes(ae().domain))||e(t).preferredUsername!==e(T))&&J(Fe)})}var Q=w(u,2);{var $=J=>{var P=ya(),X=m(P);X.__click=()=>{var y;(y=e(Z))==null||y.click()};var ee=w(X,2);ee.__click=()=>{var y;(y=e(ce))==null||y.click()};var R=w(ee,2);{var oe=y=>{var ve=wa();ve.__click=W=>{W.preventDefault(),ie(W)},Ke("keypress",ve,W=>{W.preventDefault(),ie(W)}),c(y,ve)};f(R,y=>{e(me)||y(oe)})}h(P),Ke("keypress",X,()=>{var y;(y=e(Z))==null||y.click()}),Ke("keypress",ee,()=>{var y;(y=e(ce))==null||y.click()}),c(J,P)};f(Q,J=>{e(b)&&e(t).preferredUsername===e(T)&&J($)})}var L=w(Q,2);{var xe=J=>{var P=Sa(),X=m(P);X.__click=y=>{y.preventDefault(),_e()};var ee=w(X,2);ee.__click=y=>{y.preventDefault(),pe()};var R=w(ee,2);{var oe=y=>{var ve=ka();ve.__click=W=>{W.preventDefault(),be()},c(y,ve)};f(R,y=>{e(ke)&&y(oe)})}h(P),c(J,P)},Ee=J=>{var P=Ae(),X=te(P);{var ee=R=>{var oe=Fa(),y=m(oe);y.__click=ve=>{ve.preventDefault(),be()},h(oe),c(R,oe)};f(X,R=>{e(ke)&&R(ee)},!0)}c(J,P)};f(L,J=>{e(me)?J(xe):J(Ee,!1)})}h(r),c(a,r)};f(at,a=>{e(T)&&a(Ft)})}var qe=w(at,2),rt=m(qe);{var xt=a=>{var r=Aa(),u=m(r,!0);h(r),fe(()=>Je(u,e(Ce))),c(a,r)};f(rt,a=>{e(me)&&a(xt)})}var lt=w(rt,2);{var At=a=>{var r=Da(),u=m(r);Ie(u,()=>Qe(e(x),e(t).summary||"",e(t))),h(r),c(a,r)};f(lt,a=>{e(T)&&!e(me)&&a(At)})}var Dt=w(lt,2);{var Nt=a=>{var r=Na(),u=m(r);Ie(u,()=>e(t).summary||""),h(r),c(a,r)};f(Dt,a=>{e(T)||a(Nt)})}h(qe);var nt=w(qe,2),ot=m(nt);{var Ot=a=>{var r=Oa();fe(()=>je(r,1,We(e(G)===F.Articles?"selected":""),"svelte-4rchk5")),c(a,r)};f(ot,a=>{e(b)&&a(Ot)})}var st=w(ot,2);{var Ct=a=>{var r=Ca();r.__click=()=>{s(G,F.Posts,!0)},fe(()=>je(r,1,We(e(G)===F.Posts?"selected":""),"svelte-4rchk5")),c(a,r)};f(st,a=>{(e(b)||e(T))&&a(Ct)})}var Jt=w(st,2);{var Pt=a=>{var r=Ja(),u=te(r);u.__click=()=>{s(G,F.Following,!0)};var Fe=m(u);h(u);var Q=w(u,2);Q.__click=()=>{s(G,F.Followers,!0)};var $=m(Q);h(Q),fe((L,xe)=>{je(u,1,We(e(G)===F.Following?"selected":""),"svelte-4rchk5"),Je(Fe,`Following • ${L??""}`),je(Q,1,We(e(G)===F.Followers?"selected":""),"svelte-4rchk5"),Je($,`Followers • ${xe??""}`)},[()=>{var L;return ft(((L=e(t).ephemeral)==null?void 0:L.leaders)||e(_))},()=>{var L;return ft(((L=e(t).ephemeral)==null?void 0:L.followers)||e(o))}]),c(a,r)};f(Jt,a=>{e(T)&&a(Pt)})}h(nt),h(U);var it=w(U,2),Et=m(it);{var Mt=a=>{var r=Ae(),u=te(r);{var Fe=Q=>{De(la(Q,{get handle(){return I().params.handle},get local(){return e(b)}}),$=>s(A,$,!0),()=>e(A))};f(u,Q=>{I().params.handle&&Q(Fe)})}c(a,r)},jt=a=>{var r=Ae(),u=te(r);{var Fe=$=>{var L=Ae(),xe=te(L);{var Ee=J=>{De(ut(J,{get handle(){return I().params.handle},get local(){return e(b)},view:"Followers",get cache(){return e(O)},cachedActor:se}),P=>s(M,P,!0),()=>e(M))};f(xe,J=>{I().params.handle&&J(Ee)})}c($,L)},Q=$=>{var L=Ae(),xe=te(L);{var Ee=J=>{var P=Ae(),X=te(P);{var ee=R=>{De(ut(R,{get handle(){return I().params.handle},get local(){return e(b)},view:"Following",get cache(){return e(O)},cachedActor:se}),oe=>s(C,oe,!0),()=>e(C))};f(X,R=>{I().params.handle&&R(ee)})}c(J,P)};f(xe,J=>{e(G)==F.Following&&J(Ee)},!0)}c($,L)};f(u,$=>{e(G)==F.Followers?$(Fe):$(Q,!1)},!0)}c(a,r)};f(Et,a=>{e(G)===F.Posts?a(Mt):a(jt,!1)})}h(it),fe((a,r,u)=>{Me(yt,"src",a),Me(Ve,"href",r),Je(St,u)},[()=>{var a;return Ge(e(x),String((a=e(t).icon)==null?void 0:a.url))},()=>Ze(e(t).url),()=>Gt(e(t))]),c(z,j)};f(k,z=>{e(t)&&z(B)})}h(i),c(l,i)}),c(ue,he),Ue(),re()}Xe(["change","click"]);export{Ga as component};
